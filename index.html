<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Time Converter</title>
    <script>
      function convertTime(input, date) {
        let [time, period] = input.split(' ');
        let [hours, minutes] = time.split(':').map(Number);

        // Ensure hours and minutes are in two-digit format
        hours = hours.toString().padStart(2, '0');
        minutes = minutes.toString().padStart(2, '0');

        // Convert to 24-hour format
        hours = parseInt(hours, 10);
        if (period === 'PM' && hours !== 12) {
          hours += 12;
        } else if (period === 'AM' && hours === 12) {
          hours = 0;
        }

        let adjustedHours = hours;
        if (date === 25) {
          adjustedHours += 24;
        } else if (date === 26) {
          adjustedHours += 48;
        }

        let fractionalMinutes = minutes / 60;
        let result = adjustedHours + fractionalMinutes;

        return result;
      }

      function handleInput() {
        let timeInputs = document.querySelectorAll('.timeInput');
        let dateInputs = document.querySelectorAll('.dateInput');
        let output = document.getElementById('output');
        output.innerHTML = '';

        timeInputs.forEach((timeInput, index) => {
          let timeValue = timeInput.value;
          let dateValue = parseInt(dateInputs[index].value);
          let result = convertTime(timeValue, dateValue);
          output.innerHTML += `<p>Converted Value: ${result}</p>`;
        });
      }

      function addInputFields(count = 1) {
        let container = document.getElementById('inputContainer');
        for (let i = 0; i < count; i++) {
          let div = document.createElement('div');
          div.classList.add('inputRow');
          div.innerHTML = `
                    <input type="text" class="timeInput" placeholder="Enter time (hh:mm AM/PM)" onpaste="splitPastedData(event)">
                    <input type="number" class="dateInput" placeholder="Enter date (24, 25, 26)">
                    <button onclick="removeInputField(this)">❌</button>
                `;
          container.appendChild(div);
        }
      }

      function splitPastedData(event) {
        event.preventDefault();
        let paste = (event.clipboardData || window.clipboardData).getData(
          'text'
        );
        let values = paste.split(/\s+/); // Splitting by spaces or newlines
        let container = document.getElementById('inputContainer');

        values.forEach((value) => {
          let div = document.createElement('div');
          div.classList.add('inputRow');
          div.innerHTML = `
                    <input type="text" class="timeInput" value="${value}" placeholder="Enter time (hh:mm AM/PM)">
                    <input type="number" class="dateInput" placeholder="Enter date (24, 25, 26)">
                    <button onclick="removeInputField(this)">❌</button>
                `;
          container.appendChild(div);
        });
      }

      function removeInputField(button) {
        button.parentElement.remove();
      }
    </script>
  </head>
  <body>
    <div id="inputContainer">
      <div class="inputRow">
        <input
          type="text"
          class="timeInput"
          placeholder="Enter time (hh:mm AM/PM)"
          onpaste="splitPastedData(event)"
        />
        <input
          type="number"
          class="dateInput"
          placeholder="Enter date (24, 25, 26)"
        />
        <button onclick="removeInputField(this)">❌</button>
      </div>
    </div>
    <button onclick="addInputFields()">Add More</button>
    <button onclick="addInputFields(200)">Add 200 More</button>
    <button onclick="handleInput()">Convert</button>
    <div id="output"></div>
  </body>
</html>
